{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack:///./src/components/Catalog.vue?bb9c","webpack:///src/components/Catalog.vue","webpack:///./src/components/Catalog.vue?ee76","webpack:///./src/components/Catalog.vue","webpack:///./node_modules/core-js/modules/es.string.ends-with.js","webpack:///./src/components/Catalog.vue?67cd","webpack:///./src/components/base.css?49cf","webpack:///./node_modules/core-js/modules/es.array.find-index.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","_entity","message","url","on","$event","$router","go","loaded","class","breadcrumbs","keywords","length","license","spatialExtent","staticClass","title","version","_e","domProps","description","tabIndex","selectTab","activateTab","key","collectionCount","collections","collectionFields","childrenPerPage","currentCollectionPage","scopedSlots","_u","fn","data","item","to","id","model","value","callback","$$v","expression","childCount","children","childFields","currentChildPage","hasExternalItems","itemCount","items","itemFields","itemsPerPage","currentItemListPage","sortCompare","currentItemPage","bands","bandFields","thumbnail","assets","hasBands","shownLinks","zarrMetadataUrl","summaries","stacVersion","temporalExtent","providers","browserVersion","staticRenderFns","name","props","ancestors","type","Array","required","path","String","resolve","Function","slugify","components","LinkTab","AssetTab","MetadataSidebar","ZarrMetadataTab","externalItemCount","externalItemsPerPage","externalItemPaging","locatorMap","tabsChanged","asyncComputed","default","lazy","externalItems","computed","object","Error","stac_version","_description","catalog","_items","links","filter","_license","_title","isArray","entity","extent","find","map","idx","start","end","dateAcquired","properties","datetime","itemLink","href","itemUrl","ITEMS_PER_PAGE","jsonLD","identifier","p","doi","citation","isBasedOn","undefined","parent","dataCatalog","isPartOf","text","spatialCoverage","geo","box","join","isTemporalExtentUnbounded","temporalCoverage","spatial","bbox","temporal","interval","findIndex","watch","from","updateState","cp","ip","$route","query","t","methods","initialize","$nextTick","syncWithQueryState","initializeLocatorMap","remove","attributionControl","zoomControl","boxZoom","doubleClickZoom","dragging","scrollWheelZoom","touchZoom","slice","minX","minY","maxY","maxX","fitBounds","overlayLayer","getBounds","padding","parseInt","isNaN","a","b","toString","localeCompare","numeric","Number","component","$","getOwnPropertyDescriptor","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","$endsWith","endsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","writable","target","proto","forced","searchString","that","endPosition","arguments","len","search","call","$findIndex","addToUnscopables","FIND_INDEX","SKIPS_HOLES","callbackfn"],"mappings":"yMAAe,SAASA,EAAQC,GAa9B,OATED,EADoB,oBAAXE,QAAoD,kBAApBA,OAAOC,SACtC,SAAiBF,GACzB,cAAcA,GAGN,SAAiBA,GACzB,OAAOA,GAAyB,oBAAXC,QAAyBD,EAAIG,cAAgBF,QAAUD,IAAQC,OAAOG,UAAY,gBAAkBJ,GAItHD,EAAQC,K,2CCbjB,IAAIK,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAAEJ,EAAW,QAAEI,EAAG,UAAU,CAACE,MAAM,CAAC,QAAU,SAAS,KAAO,KAAK,CAACF,EAAG,IAAI,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIS,QAAQC,YAAYN,EAAG,IAAI,CAACJ,EAAIO,GAAG,2HAA2HH,EAAG,IAAI,CAACJ,EAAIO,GAAG,gBAAgBP,EAAIQ,GAAGR,EAAIW,QAAQP,EAAG,IAAI,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,KAAKM,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOb,EAAIc,QAAQC,IAAI,MAAM,CAACf,EAAIO,GAAG,iBAAmBP,EAAIgB,OAAuDZ,EAAG,cAAc,CAACa,MAAMjB,EAAIgB,QAAU,UAAU,CAACZ,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,OAAO,CAACF,EAAG,SAAS,CAACA,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQN,EAAIkB,gBAAgB,MAAM,GAAGd,EAAG,QAAQ,CAACA,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAKN,EAAImB,SAASC,OAAS,GAAoB,MAAfpB,EAAIqB,SAAmBrB,EAAIsB,cAAcF,OAAS,EACt1B,EACA,KAAK,CAAChB,EAAG,KAAK,CAACmB,YAAY,UAAU,CAACvB,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIwB,UAAWxB,EAAW,QAAEI,EAAG,IAAI,CAACA,EAAG,QAAQ,CAACJ,EAAIO,GAAG,WAAWP,EAAIQ,GAAGR,EAAIyB,cAAczB,EAAI0B,KAAKtB,EAAG,IAAI,CAACmB,YAAY,UAAU,CAACnB,EAAG,QAAQ,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAIW,IAAI,OAAS,WAAW,CAACP,EAAG,OAAO,CAACJ,EAAIO,GAAGP,EAAIQ,GAAGR,EAAIW,cAAeX,EAAe,YAAEI,EAAG,MAAM,CAACuB,SAAS,CAAC,UAAY3B,EAAIQ,GAAGR,EAAI4B,gBAAgB5B,EAAI0B,KAAKtB,EAAG,SAAS,CAACE,MAAM,CAAC,MAAQN,EAAI6B,UAAUjB,GAAG,CAAC,MAAQZ,EAAI8B,UAAU,eAAe9B,EAAI+B,cAAc,CAAC3B,EAAG,QAAQ,CAAC4B,IAAI,cAAc1B,MAAM,CAAC,UAAYL,KAAKgC,gBAAgB,MAAQ,gBAAgB,CAAC7B,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAIkC,YAAY,OAASlC,EAAImC,iBAAiB,WAAWnC,EAAIoC,gBAAgB,eAAepC,EAAIqC,sBAAsB,UAAW,EAAK,WAAa,GAAG,MAAQ,GAAG,QAAU,IAAIC,YAAYtC,EAAIuC,GAAG,CAAC,CAACP,IAAI,aAAaQ,GAAG,SAASC,GAAM,MAAO,CAACrC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAKmC,EAAKC,KAAKC,KAAK,CAAC3C,EAAIO,GAAGP,EAAIQ,GAAGiC,EAAKC,KAAKE,cAAe5C,EAAIiC,gBAAkBjC,EAAIoC,gBAAiBhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,aAAaN,EAAIiC,gBAAgB,WAAWjC,EAAIoC,gBAAgB,yBAAwB,GAAMS,MAAM,CAACC,MAAO9C,EAAyB,sBAAE+C,SAAS,SAAUC,GAAMhD,EAAIqC,sBAAsBW,GAAKC,WAAW,2BAA2BjD,EAAI0B,MAAM,GAAGtB,EAAG,QAAQ,CAAC4B,IAAI,WAAW1B,MAAM,CAAC,UAAYL,KAAKiD,WAAW,MAAQ,aAAa,CAAC9C,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAImD,SAAS,OAASnD,EAAIoD,YAAY,WAAWpD,EAAIoC,gBAAgB,eAAepC,EAAIqD,iBAAiB,UAAW,EAAK,WAAa,GAAG,MAAQ,GAAG,QAAU,IAAIf,YAAYtC,EAAIuC,GAAG,CAAC,CAACP,IAAI,aAAaQ,GAAG,SAASC,GAAM,MAAO,CAACrC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAKmC,EAAKC,KAAKC,KAAK,CAAC3C,EAAIO,GAAGP,EAAIQ,GAAGiC,EAAKC,KAAKlB,iBAAkBxB,EAAIkD,WAAalD,EAAIoC,gBAAiBhC,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,aAAaN,EAAIkD,WAAW,WAAWlD,EAAIoC,gBAAgB,yBAAwB,GAAMS,MAAM,CAACC,MAAO9C,EAAoB,iBAAE+C,SAAS,SAAUC,GAAMhD,EAAIqD,iBAAiBL,GAAKC,WAAW,sBAAsBjD,EAAI0B,MAAM,GAAGtB,EAAG,QAAQ,CAAC4B,IAAI,QAAQ1B,MAAM,CAAC,UAAYL,KAAKqD,mBAAqBrD,KAAKsD,UAAU,MAAQ,UAAU,CAACnD,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAIwD,MAAM,OAASxD,EAAIyD,WAAW,WAAWzD,EAAI0D,aAAa,eAAe1D,EAAI2D,oBAAoB,eAAe3D,EAAI4D,YAAY,UAAW,EAAK,WAAa,GAAG,MAAQ,GAAG,QAAU,IAAItB,YAAYtC,EAAIuC,GAAG,CAAC,CAACP,IAAI,aAAaQ,GAAG,SAASC,GAAM,MAAO,CAACrC,EAAG,cAAc,CAACE,MAAM,CAAC,GAAKmC,EAAKC,KAAKC,KAAK,CAAC3C,EAAIO,GAAGP,EAAIQ,GAAGiC,EAAKC,KAAKlB,iBAAkBxB,EAAIuD,UAAYvD,EAAI0D,aAActD,EAAG,eAAe,CAACE,MAAM,CAAC,MAAQ,GAAG,aAAaN,EAAIuD,UAAU,WAAWvD,EAAI0D,aAAa,yBAAwB,GAAMb,MAAM,CAACC,MAAO9C,EAAmB,gBAAE+C,SAAS,SAAUC,GAAMhD,EAAI6D,gBAAgBb,GAAKC,WAAW,qBAAqBjD,EAAI0B,MAAM,GAAIzB,KAAK6D,MAAM1C,OAAS,EAAGhB,EAAG,QAAQ,CAAC4B,IAAI,QAAQ1B,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAI8D,MAAM,OAAS9D,EAAI+D,WAAW,WAAa,GAAG,MAAQ,GAAG,QAAU,OAAO,GAAG/D,EAAI0B,KAAMzB,KAAc,UAAEG,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,cAAc,CAACF,EAAG,IAAI,CAACE,MAAM,CAAC,KAAON,EAAIgE,YAAY,CAAC5D,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,YAAY,MAAQ,SAAS,IAAMN,EAAIgE,iBAAiBhE,EAAI0B,KAAMzB,KAAKgE,OAAa,OAAE7D,EAAG,QAAQ,CAAC4B,IAAI,SAAS1B,MAAM,CAAC,MAAQ,WAAW,CAACF,EAAG,WAAW,CAACE,MAAM,CAAC,OAASN,EAAIiE,OAAO,MAAQjE,EAAI8D,MAAM,SAAW9D,EAAIkE,aAAa,GAAGlE,EAAI0B,KAAMzB,KAAKkE,WAAiB,OAAE/D,EAAG,QAAQ,CAAC4B,IAAI,QAAQ1B,MAAM,CAAC,MAAQ,UAAU,CAACF,EAAG,UAAU,CAACE,MAAM,CAAC,MAAQN,EAAImE,eAAe,GAAGnE,EAAI0B,KAAMzB,KAAoB,gBAAEG,EAAG,QAAQ,CAAC4B,IAAI,gBAAgB1B,MAAM,CAAC,MAAQ,kBAAkB,CAACF,EAAG,kBAAkB,CAACE,MAAM,CAAC,oBAAoBN,EAAIoE,oBAAoB,GAAGpE,EAAI0B,MAAM,IAAI,GAAI1B,EAAImB,SAASC,OAAS,GAAoB,MAAfpB,EAAIqB,SAAmBrB,EAAIsB,cAAcF,OAAS,EAAGhB,EAAG,QAAQ,CAACE,MAAM,CAAC,GAAK,MAAM,CAACF,EAAG,SAAS,CAACE,MAAM,CAAC,aAAa,UAAU,CAAEN,EAAIsB,cAAcF,OAAS,EAAGhB,EAAG,MAAM,CAACE,MAAM,CAAC,GAAK,iBAAiBN,EAAI0B,KAAKtB,EAAG,kBAAkB,CAACE,MAAM,CAAC,UAAYN,EAAIqE,UAAU,YAAcrE,EAAIsE,YAAY,SAAWtE,EAAImB,SAAS,QAAUnB,EAAIqB,QAAQ,eAAiBrB,EAAIuE,eAAe,UAAYvE,EAAIwE,cAAc,IAAI,GAAGxE,EAAI0B,MAAM,IAAI,GAFt8GtB,EAAG,YAAY,CAACE,MAAM,CAAC,MAAQ,gBAE06GF,EAAG,SAAS,CAACmB,YAAY,UAAU,CAACnB,EAAG,cAAc,CAACA,EAAG,OAAO,CAACmB,YAAY,wBAAwB,CAACvB,EAAIO,GAAG,gBAAgBH,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,iDAAiD,CAACN,EAAIO,GAAG,kBAAkBP,EAAIO,GAAG,KAAKP,EAAIQ,GAAGR,EAAIyE,gBAAgB,UAAU,IAAI,IACnvIC,EAAkB,G,0WC+KtB,KAEe,mCACf,QADA,IAEEC,KAAM,UACNC,MAAO,CACLC,UAAW,CACTC,KAAMC,MACNC,UAAU,GAEZC,KAAM,CACJH,KAAMI,OACNF,UAAU,GAEZG,QAAS,CACPL,KAAMM,SACNJ,UAAU,GAEZK,QAAS,CACPP,KAAMM,SACNJ,UAAU,GAEZrE,IAAK,CACHmE,KAAMI,OACNF,UAAU,IAGdM,WAAY,CACVC,QAAJ,OACIC,SAAJ,OACIC,gBAAiB,WAArB,0DACIC,gBAAiB,WAArB,4DAEEjD,KA/BF,WAgCI,MAAO,CACL6B,YAAa,KACbqB,kBAAmB,EACnBC,qBAAsB,EACtBC,oBAAoB,EACpBzC,YAAa,CACnB,CACQ,IAAR,OACQ,MAAR,QACQ,UAAR,IAGMjB,iBAAkB,CACxB,CACQ,IAAR,OACQ,MAAR,aACQ,UAAR,GAEA,CACQ,IAAR,QACQ,MAAR,QACQ,UAAR,IAGMkB,iBAAkB,EAClBhB,sBAAuB,EACvBD,gBAAiB,GACjBqB,WAAY,CAClB,CACQ,IAAR,OACQ,MAAR,QACQ,UAAR,GAEA,CACQ,IAAR,eACQ,MAAR,gBACQ,UAAR,EACQ,UAAR,YACU,GAAV,SACY,IAAZ,cACY,OAAZ,sCAGU,MAAV,MAIMI,gBAAiB,EACjBF,oBAAqB,EACrBmC,WAAY,KACZjE,SAAU,EACVkE,aAAa,IAGjBC,cAAe,CACb9D,YAAa,CACX+D,QAAS,GACTC,MAAM,EACN,IAHN,WAGA,uKACA,yDACA,MAFA,yCAGA,IAHA,gCAOA,uBAPA,UAOA,EAPA,OAQA,KARA,6BASA,QATA,UASA,SATA,gCASA,KATA,kCAUA,IAVA,yBAaA,SAbA,WAaA,EAbA,OAcA,gCAdA,6BAeA,QAfA,UAeA,SAfA,gCAeA,KAfA,kCAgBA,IAhBA,eAmBA,gBACA,iBAEA,yCACA,kBACA,QAIA,kCACA,2BACA,uDACA,YACA,UAIA,yBACA,eACA,iBAEA,wBACA,OACA,KACA,uBACA,WA5CA,kBAgDA,GAhDA,4CAkDA,mBAlDA,kBAoDA,IApDA,8DAwDIC,cAAe,CACbF,QAAS,GACTC,MAAM,EACN,IAHN,WAGA,2KACA,0DAEA,MAHA,yCAIA,IAJA,uBAQA,+BARA,SASA,yBACA,QADA,OACA,EADA,gBACA,oBAVA,UASA,EATA,OAaA,KAbA,6BAcA,QAdA,UAcA,SAdA,gCAcA,KAdA,kCAeA,IAfA,yBAkBA,SAlBA,eAkBA,EAlBA,OAoBA,iBACA,sCACA,uCACA,yBAEA,sCAIA,qCAEA,uCACA,OACA,oDACA,QADA,OACA,EADA,gBACA,kBADA,YACA,KAEA,+BACA,uCArCA,kBAwCA,GAxCA,4CA0CA,mBA1CA,kBA4CA,IA5CA,+DAiDEE,SAAU,OAAZ,OAAY,CAAZ,iCACA,iBACA,+BAFA,IAGI3F,QAHJ,WAIM,IAAN,2BACM,GAAI4F,aAAkBC,MACpB,OAAOD,EAETpG,KAAKqE,YAAc+B,EAAOE,aAC1B,IAAN,gCACM,OAAO,EAAb,WAEIC,aAZJ,WAaM,OAAOvG,KAAKwG,QAAQ7E,aAEtB8E,OAfJ,WAgBM,OAAOzG,KAAK0G,MAAMC,QAAO,SAA/B,4BAEIC,SAlBJ,WAmBM,OACN,kEAGIC,OAvBJ,WAwBM,OAAO7G,KAAKwG,QAAQjF,OAEtBsC,MA1BJ,WA4BM,OAAOiB,MAAMgC,QAAQ9G,KAAKoE,UAAU,aAAepE,KAAKoE,UAAU,YAAc,IAElFoC,QA9BJ,WA+BM,OAAOxG,KAAK+G,QAEd/E,gBAjCJ,WAkCM,OAAOhC,KAAKiC,YAAYd,QAE1B8B,WApCJ,WAqCM,OAAOjD,KAAKkD,SAAS/B,QAEvB+B,SAvCJ,WAuCA,WACM,OAAOlD,KAAK0G,MAClB,oBAAQ,MAAR,mBACA,iBAEQ,IAAR,qCAEA,kBACU,GAAV,KAGQ,IAAR,0BACA,eACA,iBAEQ,MAAR,CACU,KAAV,OACU,GAAV,EAEU,MAAV,sBACU,IAAV,OAIIM,OA/DJ,WAgEM,OACN,qBACA,2CACA,IAGI3D,iBAtEJ,WAuEM,OAAN,MAAarD,KAAK0G,MAAMO,MAAK,SAA7B,6BAEI3D,UAzEJ,WA0EM,OAAKtD,KAAKqD,iBAIHrD,KAAK0F,kBAHH1F,KAAK0G,MAAMC,QAAO,SAAjC,mCAKIpD,MAhFJ,WAgFA,WACA,6CACA,yCAEM,OAAKvD,KAAKqD,iBAiCHrD,KAAKkG,cAhCHlG,KAAKyG,OAAOS,KAAI,SAA/B,KACU,IAAV,0BAEcC,GAAOC,GAASD,EAAME,GAExB,EAAZ,QAIU,IAAV,iBAEU,OAAY,MAAR5E,EACK,CACLA,KAAd,EACcC,GAAI,QAAlB,wCACcnB,MACd,oBACA,SACA,MACA,OACc+F,aAAc7E,EAAK8E,WAAWC,UAI3B,CACL9E,GAAI,QAAhB,wCACYnB,MAAOkG,EAASlG,OAASkG,EAASC,KAClChH,IAAKiH,OAOblE,aAvHJ,WAwHM,OAAIzD,KAAK4F,mBACA5F,KAAK2F,qBAGPiC,GAETC,OA9HJ,WA+HM,IAAN,yBACA,cACQ,IAAR,oCAEQ,OAAR,wBACU,OAAV,GACY,IAAZ,WACc,EAAd,sCACc,EAAd,sBACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,WACc,EAAd,wBACc,EAAd,eACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,YACc,EAAd,8BACc,EAAd,kBACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAEF,IAAZ,OACc,EAAd,wBACc,EAAd,eACgB,QAAhB,eACgB,YAAhB,cACgB,KAAhB,OACgB,IAAhB,QAEc,MAGJ,OAAV,IACA,KAEA,CACQ,WAAR,sBACQ,QAAR,cAEQ,KAAR,WACQ,YAAR,iBAEQ,SAAR,6BACQ,WAAR,yCACQ,SAAR,cACQ,QAAR,gBACQ,UAAR,SACQ,QAAR,aACQ,IAAR,UACQ,aAAR,uDAAU,MAAV,CACYC,WAAYC,EAAEC,IACdC,SAAUF,EAAEE,aAEhB,QAAR,+BAAU,IAAV,yBAAU,MAAV,CACY,QAAS,cACTvD,KAAZ,EACYwD,UAAWxH,EACXA,IAAKgC,MAET,QAAR,4BAAU,IAAV,kCAAU,MAAV,CACYoF,WAAYrF,EAAOA,EAAKE,QAAKwF,EAC7BzD,KAAZ,EACYwD,UAAWxH,EACXA,IAAKgC,QAKjB,8CAyBM,OAvBc,MAAV0F,IACFC,EAAYC,SAAW,CACrB,QAAS,cACT5D,KAAM0D,EAAOG,KACbL,UAAWE,EAAO1H,IAClBA,IAAK0H,EAAO1F,KAIZ1C,KAAKqB,cAAcF,OAAS,IAC9BkH,EAAYG,gBAAkB,CAC5B,QAAS,QACTC,IAAK,CACH,QAAS,WACTC,IAAK1I,KAAKqB,cAAc,GAAGsH,KAAK,QAKjC3I,KAAK4I,4BACRP,EAAYQ,iBAAmB7I,KAAKsE,eAAe,GAAG4C,KAAI,SAAlE,gCAGamB,GAEThH,cA7OJ,WA8OM,IAAN,sBACM,OAAKyH,GAAX,WAAsB,OAAtB,OAAsB,CAAtB,0BAIaA,EAAQC,KAAKpC,QAAO,SAAjC,2CAHA,IAKIvC,UArPJ,WAsPM,OAAOpE,KAAKwG,QAAQpC,WAAa,IAEnCE,eAxPJ,WAyPM,IAAN,uBACM,OAAK0E,GAAX,WAAuB,OAAvB,OAAuB,CAAvB,8BAIaA,EAASC,SAAStC,QAAO,SAAtC,4CAHA,IAKIiC,0BAhQJ,WAiQM,QAAI5I,KAAKsE,eAAenD,OAAS,IACxBnB,KAAKsE,eAAe,GAAG4E,WAAU,SAAhD,oCAII1H,QAtQJ,WAuQM,OAAOxB,KAAKwG,QAAQhF,WAGxB2H,MAAO,OAAT,OAAS,CAAT,kBACA,cADA,IAEI/F,iBAFJ,SAEA,KACUV,IAAO0G,GACTpJ,KAAKqJ,YAAY,CACfC,GAAI5G,KAIVkB,gBATJ,SASA,KACUlB,IAAO0G,GACTpJ,KAAKqJ,YAAY,CACfE,GAAI7G,KAIVT,YAhBJ,WAiBWjC,KAAK8F,aAAiB9F,KAAKwJ,OAAOC,MAAMC,GAA6B,MAAxB1J,KAAKwJ,OAAOC,MAAMC,KAAc1J,KAAKiC,YAAYd,OAAS,IAC1GnB,KAAK6B,UAAU,IAGnBqE,cArBJ,WAsBWlG,KAAK8F,aAAiB9F,KAAKwJ,OAAOC,MAAMC,GAA6B,MAAxB1J,KAAKwJ,OAAOC,MAAMC,KAAc1J,KAAKkG,cAAc/E,OAAS,IAC5GnB,KAAK6B,UAAU,MAIrB8H,QAAS,OAAX,OAAW,CAAX,iCACA,gBACA,0BAFA,IAGIC,WAHJ,WAGA,WACU5J,KAAKqB,cAAcF,OAAS,GAC9BnB,KAAK6J,WAAU,WAAvB,mCAGM7J,KAAK8J,sBAEPC,qBAVJ,WAeM,GAJuB,MAAnB/J,KAAK6F,YACP7F,KAAK6F,WAAWmE,SAGgB,IAA9BhK,KAAKqB,cAAcF,OAAvB,CA4BA,IAAN,EAvBMnB,KAAK6F,WAAa,EAAxB,qBACQoE,oBAAoB,EACpBC,aAAa,EACbC,SAAS,EACTC,iBAAiB,EACjBC,UAAU,EACVC,iBAAiB,EACjBC,WAAW,IAGb,EAAN,YACA,qEACA,CACQ,YAAR,gKAEA,uBACM,EAAN,YACA,wEACA,CACQ,OAAR,MAEA,uBAKQlJ,EAFErB,KAAKqB,cAAcF,OAAS,EAEdnB,KAAKqB,cAAcmJ,MAAM,GAGzBxK,KAAKqB,cAGvB,IAAN,sBACQ,IAAR,kDACQ,MAAO,CAAC,CAACoJ,EAAMC,GAAO,CAACD,EAAME,GAAO,CAACC,EAAMD,GAAO,CAACC,EAAMF,GAAO,CAACD,EAAMC,QAG/E,cACA,CACQ,KAAR,eACQ,YAAR,GAEA,CACQ,KAAR,WACQ,MAAR,CACU,OAAV,EACU,MAAV,UACU,QAAV,EACU,YAAV,OAGA,uBAEM1K,KAAK6F,WAAWgF,UAAUC,EAAaC,YAAa,CAClDC,QAAS,CAAC,GAAI,QAGlBnJ,UA7EJ,SA6EA,cAC8B,kBAAbD,IACTA,EAAWqJ,SAASrJ,EAAU,IAC1BsJ,MAAMtJ,MAIR5B,KAAK8F,aAAe9F,KAAK4B,WAAaA,GACxC5B,KAAKqJ,YAAY,CACfK,EAAG9H,IAGP5B,KAAK6J,WAAU,WACb,EAAR,gBAGI/H,YA7FJ,WA8FM9B,KAAK8F,aAAc,GAErBnC,YAhGJ,SAgGA,OAKM,MAJY,SAAR5B,IACFA,EAAM,SAGM,MAAVoJ,EAAEpJ,IACI,EAChB,WACe,EACf,+CAEeoJ,EAAEpJ,GAAOqJ,EAAErJ,IAAQ,EAAIoJ,EAAEpJ,GAAOqJ,EAAErJ,GAAO,EAAI,EAG7CoJ,EAAEpJ,GAAKsJ,WAAWC,cAAcF,EAAErJ,GAAKsJ,gBAAYlD,EAAW,CACnEoD,SAAS,KAIfzB,mBAnHJ,WAoHM9J,KAAK6B,UAAU7B,KAAKwJ,OAAOC,MAAMC,GACjC1J,KAAKoD,iBAAmBoI,OAAOxL,KAAKwJ,OAAOC,MAAMH,KAAO,EACxDtJ,KAAK4D,gBAAkB4H,OAAOxL,KAAKwJ,OAAOC,MAAMF,KAAO,EAIvDvJ,KAAK0D,oBAAsB1D,KAAKqD,iBAAmB,EAAIrD,KAAK4D,qBCzxB+Q,I,kCCS7U6H,EAAY,eACd,EACA3L,EACA2E,GACA,EACA,KACA,WACA,MAIa,aAAAgH,E,6CCnBf,IAAIC,EAAI,EAAQ,QACZC,EAA2B,EAAQ,QAAmDC,EACtFC,EAAW,EAAQ,QACnBC,EAAa,EAAQ,QACrBC,EAAyB,EAAQ,QACjCC,EAAuB,EAAQ,QAC/BC,EAAU,EAAQ,QAGlBC,EAAY,GAAGC,SACfC,EAAMC,KAAKD,IAEXE,EAA0BN,EAAqB,YAE/CO,GAAoBN,IAAYK,KAA6B,WAC/D,IAAIE,EAAab,EAAyB1G,OAAOpF,UAAW,YAC5D,OAAO2M,IAAeA,EAAWC,SAF8B,GAOjEf,EAAE,CAAEgB,OAAQ,SAAUC,OAAO,EAAMC,QAASL,IAAqBD,GAA2B,CAC1FH,SAAU,SAAkBU,GAC1B,IAAIC,EAAO7H,OAAO8G,EAAuB/L,OACzC8L,EAAWe,GACX,IAAIE,EAAcC,UAAU7L,OAAS,EAAI6L,UAAU,QAAK7E,EACpD8E,EAAMpB,EAASiB,EAAK3L,QACpBkG,OAAsBc,IAAhB4E,EAA4BE,EAAMb,EAAIP,EAASkB,GAAcE,GACnEC,EAASjI,OAAO4H,GACpB,OAAOX,EACHA,EAAUiB,KAAKL,EAAMI,EAAQ7F,GAC7ByF,EAAKtC,MAAMnD,EAAM6F,EAAO/L,OAAQkG,KAAS6F,M,kCChCjD,W,kCCAA,W,kCCCA,IAAIxB,EAAI,EAAQ,QACZ0B,EAAa,EAAQ,QAAgClE,UACrDmE,EAAmB,EAAQ,QAE3BC,EAAa,YACbC,GAAc,EAGdD,IAAc,IAAIxI,MAAM,GAAGwI,IAAY,WAAcC,GAAc,KAIvE7B,EAAE,CAAEgB,OAAQ,QAASC,OAAO,EAAMC,OAAQW,GAAe,CACvDrE,UAAW,SAAmBsE,GAC5B,OAAOJ,EAAWpN,KAAMwN,EAAYR,UAAU7L,OAAS,EAAI6L,UAAU,QAAK7E,MAK9EkF,EAAiBC,I","file":"js/catalog.c9f41451.js","sourcesContent":["export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.errored)?_c('b-alert',{attrs:{\"variant\":\"danger\",\"show\":\"\"}},[_c('p',[_vm._v(_vm._s(_vm._entity.message))]),_c('p',[_vm._v(\"Please note that some servers don't allow external access via web browsers (e.g., when CORS headers are not present).\")]),_c('p',[_vm._v(\"Errored URL: \"+_vm._s(_vm.url))]),_c('p',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"Go back\")])])]):(!_vm.loaded)?_c('b-spinner',{attrs:{\"label\":\"Loading...\"}}):_c('b-container',{class:_vm.loaded && 'loaded'},[_c('b-row',[_c('b-col',{attrs:{\"md\":\"12\"}},[_c('header',[_c('b-breadcrumb',{attrs:{\"items\":_vm.breadcrumbs}})],1)])],1),_c('b-row',[_c('b-col',{attrs:{\"md\":_vm.keywords.length > 0 || _vm.license != null || _vm.spatialExtent.length > 0\n            ? 8\n            : 12}},[_c('h1',{staticClass:\"scroll\"},[_vm._v(_vm._s(_vm.title))]),(_vm.version)?_c('p',[_c('small',[_vm._v(\"Version \"+_vm._s(_vm.version))])]):_vm._e(),_c('p',{staticClass:\"scroll\"},[_c('small',[_c('a',{attrs:{\"href\":_vm.url,\"target\":\"_blank\"}},[_c('code',[_vm._v(_vm._s(_vm.url))])])])]),(_vm.description)?_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.description)}}):_vm._e(),_c('b-tabs',{attrs:{\"value\":_vm.tabIndex},on:{\"input\":_vm.selectTab,\"activate-tab\":_vm.activateTab}},[_c('b-tab',{key:\"collections\",attrs:{\"disabled\":!this.collectionCount,\"title\":\"Collections\"}},[_c('b-table',{attrs:{\"items\":_vm.collections,\"fields\":_vm.collectionFields,\"per-page\":_vm.childrenPerPage,\"current-page\":_vm.currentCollectionPage,\"outlined\":true,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"cell(link)\",fn:function(data){return [_c('router-link',{attrs:{\"to\":data.item.to}},[_vm._v(_vm._s(data.item.id))])]}}])}),(_vm.collectionCount > _vm.childrenPerPage)?_c('b-pagination',{attrs:{\"limit\":15,\"total-rows\":_vm.collectionCount,\"per-page\":_vm.childrenPerPage,\"hide-goto-end-buttons\":true},model:{value:(_vm.currentCollectionPage),callback:function ($$v) {_vm.currentCollectionPage=$$v},expression:\"currentCollectionPage\"}}):_vm._e()],1),_c('b-tab',{key:\"catalogs\",attrs:{\"disabled\":!this.childCount,\"title\":\"Catalogs\"}},[_c('b-table',{attrs:{\"items\":_vm.children,\"fields\":_vm.childFields,\"per-page\":_vm.childrenPerPage,\"current-page\":_vm.currentChildPage,\"outlined\":true,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"cell(link)\",fn:function(data){return [_c('router-link',{attrs:{\"to\":data.item.to}},[_vm._v(_vm._s(data.item.title))])]}}])}),(_vm.childCount > _vm.childrenPerPage)?_c('b-pagination',{attrs:{\"limit\":15,\"total-rows\":_vm.childCount,\"per-page\":_vm.childrenPerPage,\"hide-goto-end-buttons\":true},model:{value:(_vm.currentChildPage),callback:function ($$v) {_vm.currentChildPage=$$v},expression:\"currentChildPage\"}}):_vm._e()],1),_c('b-tab',{key:\"items\",attrs:{\"disabled\":!this.hasExternalItems && !this.itemCount,\"title\":\"Items\"}},[_c('b-table',{attrs:{\"items\":_vm.items,\"fields\":_vm.itemFields,\"per-page\":_vm.itemsPerPage,\"current-page\":_vm.currentItemListPage,\"sort-compare\":_vm.sortCompare,\"outlined\":true,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"},scopedSlots:_vm._u([{key:\"cell(link)\",fn:function(data){return [_c('router-link',{attrs:{\"to\":data.item.to}},[_vm._v(_vm._s(data.item.title))])]}}])}),(_vm.itemCount > _vm.itemsPerPage)?_c('b-pagination',{attrs:{\"limit\":15,\"total-rows\":_vm.itemCount,\"per-page\":_vm.itemsPerPage,\"hide-goto-end-buttons\":true},model:{value:(_vm.currentItemPage),callback:function ($$v) {_vm.currentItemPage=$$v},expression:\"currentItemPage\"}}):_vm._e()],1),(this.bands.length > 0)?_c('b-tab',{key:\"bands\",attrs:{\"title\":\"Bands\"}},[_c('b-table',{attrs:{\"items\":_vm.bands,\"fields\":_vm.bandFields,\"responsive\":\"\",\"small\":\"\",\"striped\":\"\"}})],1):_vm._e(),(this.thumbnail)?_c('b-tab',{attrs:{\"title\":\"Thumbnail\"}},[_c('a',{attrs:{\"href\":_vm.thumbnail}},[_c('img',{attrs:{\"id\":\"thumbnail\",\"align\":\"center\",\"src\":_vm.thumbnail}})])]):_vm._e(),(this.assets.length)?_c('b-tab',{key:\"assets\",attrs:{\"title\":\"Assets\"}},[_c('AssetTab',{attrs:{\"assets\":_vm.assets,\"bands\":_vm.bands,\"hasBands\":_vm.hasBands}})],1):_vm._e(),(this.shownLinks.length)?_c('b-tab',{key:\"links\",attrs:{\"title\":\"Links\"}},[_c('LinkTab',{attrs:{\"links\":_vm.shownLinks}})],1):_vm._e(),(this.zarrMetadataUrl)?_c('b-tab',{key:\"zarr-metadata\",attrs:{\"title\":\"Zarr Metadata\"}},[_c('ZarrMetadataTab',{attrs:{\"zarr-metadata-url\":_vm.zarrMetadataUrl}})],1):_vm._e()],1)],1),(_vm.keywords.length > 0 || _vm.license != null || _vm.spatialExtent.length > 0)?_c('b-col',{attrs:{\"md\":\"4\"}},[_c('b-card',{attrs:{\"bg-variant\":\"light\"}},[(_vm.spatialExtent.length > 0)?_c('div',{attrs:{\"id\":\"locator-map\"}}):_vm._e(),_c('MetadataSidebar',{attrs:{\"summaries\":_vm.summaries,\"stacVersion\":_vm.stacVersion,\"keywords\":_vm.keywords,\"license\":_vm.license,\"temporalExtent\":_vm.temporalExtent,\"providers\":_vm.providers}})],1)],1):_vm._e()],1)],1),_c('footer',{staticClass:\"footer\"},[_c('b-container',[_c('span',{staticClass:\"poweredby text-muted\"},[_vm._v(\" Powered by \"),_c('a',{attrs:{\"href\":\"https://github.com/radiantearth/stac-browser\"}},[_vm._v(\"STAC Browser\")]),_vm._v(\" v\"+_vm._s(_vm.browserVersion)+\" \")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <b-alert v-if=\"errored\" variant=\"danger\" show>\n      <p>{{ _entity.message }}</p>\n      <p>Please note that some servers don't allow external access via web browsers (e.g., when CORS headers are not present).</p>\n      <p>Errored URL: {{ url }}</p>\n      <p><a href=\"#\" @click=\"$router.go(-1)\">Go back</a></p>\n    </b-alert>\n    <b-spinner v-else-if=\"!loaded\" label=\"Loading...\"></b-spinner>\n    <b-container v-else :class=\"loaded && 'loaded'\">\n      <b-row>\n        <b-col md=\"12\">\n          <header>\n            <b-breadcrumb :items=\"breadcrumbs\" />\n          </header>\n        </b-col>\n      </b-row>\n      <b-row>\n        <b-col\n          :md=\"\n            keywords.length > 0 || license != null || spatialExtent.length > 0\n              ? 8\n              : 12\n          \"\n        >\n          <h1 class=\"scroll\">{{ title }}</h1>\n          <p v-if=\"version\">\n            <small>Version {{ version }}</small>\n          </p>\n          <p class=\"scroll\">\n            <small>\n              <a :href=\"url\" target=\"_blank\"><code>{{ url }}</code></a>\n            </small>\n          </p>\n          <div v-if=\"description\" v-html=\"description\" />\n\n          <b-tabs :value=\"tabIndex\" @input=\"selectTab\" @activate-tab=\"activateTab\">\n            <b-tab :disabled=\"!this.collectionCount\" key=\"collections\" title=\"Collections\">\n              <b-table\n                :items=\"collections\"\n                :fields=\"collectionFields\"\n                :per-page=\"childrenPerPage\"\n                :current-page=\"currentCollectionPage\"\n                :outlined=\"true\"\n                responsive\n                small\n                striped\n              >\n                <template slot=\"cell(link)\" slot-scope=\"data\">\n                  <router-link :to=\"data.item.to\">{{\n                    data.item.id\n                  }}</router-link>\n                </template>\n              </b-table>\n              <b-pagination\n                v-if=\"collectionCount > childrenPerPage\"\n                v-model=\"currentCollectionPage\"\n                :limit=\"15\"\n                :total-rows=\"collectionCount\"\n                :per-page=\"childrenPerPage\"\n                :hide-goto-end-buttons=\"true\"\n              />\n            </b-tab>\n            <b-tab :disabled=\"!this.childCount\" key=\"catalogs\" title=\"Catalogs\">\n              <b-table\n                :items=\"children\"\n                :fields=\"childFields\"\n                :per-page=\"childrenPerPage\"\n                :current-page=\"currentChildPage\"\n                :outlined=\"true\"\n                responsive\n                small\n                striped\n              >\n                <template slot=\"cell(link)\" slot-scope=\"data\">\n                  <router-link :to=\"data.item.to\">{{\n                    data.item.title\n                  }}</router-link>\n                </template>\n              </b-table>\n              <b-pagination\n                v-if=\"childCount > childrenPerPage\"\n                v-model=\"currentChildPage\"\n                :limit=\"15\"\n                :total-rows=\"childCount\"\n                :per-page=\"childrenPerPage\"\n                :hide-goto-end-buttons=\"true\"\n              />\n            </b-tab>\n            <b-tab :disabled=\"!this.hasExternalItems && !this.itemCount\" key=\"items\" title=\"Items\">\n              <b-table\n                :items=\"items\"\n                :fields=\"itemFields\"\n                :per-page=\"itemsPerPage\"\n                :current-page=\"currentItemListPage\"\n                :sort-compare=\"sortCompare\"\n                :outlined=\"true\"\n                responsive\n                small\n                striped\n              >\n                <template slot=\"cell(link)\" slot-scope=\"data\">\n                  <router-link :to=\"data.item.to\">{{\n                    data.item.title\n                  }}</router-link>\n                </template>\n                <!-- TODO row-details w/ additional metadata + map -->\n              </b-table>\n              <b-pagination\n                v-if=\"itemCount > itemsPerPage\"\n                v-model=\"currentItemPage\"\n                :limit=\"15\"\n                :total-rows=\"itemCount\"\n                :per-page=\"itemsPerPage\"\n                :hide-goto-end-buttons=\"true\"\n              />\n            </b-tab>\n            <b-tab v-if=\"this.bands.length > 0\" key=\"bands\" title=\"Bands\">\n              <b-table :items=\"bands\" :fields=\"bandFields\" responsive small striped />\n            </b-tab>\n            <b-tab v-if=\"this.thumbnail\" title=\"Thumbnail\">\n              <a :href=\"thumbnail\">\n                <img id=\"thumbnail\" align=\"center\" :src=\"thumbnail\" />\n              </a>\n            </b-tab>\n            <b-tab v-if=\"this.assets.length\" title=\"Assets\" key=\"assets\">\n              <AssetTab :assets=\"assets\" :bands=\"bands\" :hasBands=\"hasBands\" />\n            </b-tab>\n            <b-tab v-if=\"this.shownLinks.length\" title=\"Links\" key=\"links\">\n              <LinkTab :links=\"shownLinks\" />\n            </b-tab>\n            <b-tab v-if=\"this.zarrMetadataUrl\" key=\"zarr-metadata\" title=\"Zarr Metadata\">\n              <ZarrMetadataTab :zarr-metadata-url=\"zarrMetadataUrl\" />\n            </b-tab>\n          </b-tabs>\n        </b-col>\n        <b-col\n          v-if=\"keywords.length > 0 || license != null || spatialExtent.length > 0\"\n          md=\"4\"\n        >\n          <b-card bg-variant=\"light\">\n            <div v-if=\"spatialExtent.length > 0\" id=\"locator-map\" />\n            <MetadataSidebar\n              :summaries=\"summaries\"\n              :stacVersion=\"stacVersion\"\n              :keywords=\"keywords\"\n              :license=\"license\"\n              :temporalExtent=\"temporalExtent\"\n              :providers=\"providers\"\n            />\n          </b-card>\n        </b-col>\n      </b-row>\n    </b-container>\n    <footer class=\"footer\">\n      <b-container>\n        <span class=\"poweredby text-muted\">\n          Powered by <a href=\"https://github.com/radiantearth/stac-browser\">STAC Browser</a> v{{ browserVersion }}\n        </span>\n      </b-container>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport Leaflet from \"leaflet\";\nimport { mapActions, mapGetters } from \"vuex\";\n\nimport common from \"./common\";\n\nimport Migrate from '@radiantearth/stac-migrate';\n\nimport { fetchUri } from \"../util\";\n\n// ToDo 3.0: Import tabs lazily\nimport LinkTab from \"./LinkTab.vue\";\nimport AssetTab from \"./AssetTab.vue\";\n\nconst ITEMS_PER_PAGE = 25;\n\nexport default {\n  ...common,\n  name: \"Catalog\",\n  props: {\n    ancestors: {\n      type: Array,\n      required: true\n    },\n    path: {\n      type: String,\n      required: true\n    },\n    resolve: {\n      type: Function,\n      required: true\n    },\n    slugify: {\n      type: Function,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    }\n  },\n  components: {\n    LinkTab,\n    AssetTab,\n    MetadataSidebar: () => import(/* webpackChunkName: \"metadata-sidebar\" */ \"./MetadataSidebar.vue\"),\n    ZarrMetadataTab: () => import(/* webpackChunkName: \"zarr-metadata-tab\" */ './ZarrMetadataTab.vue')\n  },\n  data() {\n    return {\n      stacVersion: null,\n      externalItemCount: 0,\n      externalItemsPerPage: 0,\n      externalItemPaging: false,\n      childFields: [\n        {\n          key: \"link\",\n          label: \"Title\",\n          sortable: true\n        }\n      ],\n      collectionFields: [\n        {\n          key: \"link\",\n          label: \"Identifier\",\n          sortable: false // Sorting doesn't work for links\n        },\n        {\n          key: \"title\",\n          label: \"Title\",\n          sortable: true\n        }\n      ],\n      currentChildPage: 1,\n      currentCollectionPage: 1,\n      childrenPerPage: 25, // also applies to collections\n      itemFields: [\n        {\n          key: \"link\",\n          label: \"Title\",\n          sortable: false // Sorting doesn't work for links\n        },\n        {\n          key: \"dateAcquired\",\n          label: \"Date Acquired\",\n          sortable: true,\n          formatter: function(isoDate) {\n            if (isoDate != null) {\n              const date = new Date(isoDate);\n              return !isNaN(date.getTime()) ? date.toUTCString() : \"\";\n            }\n\n            return \"\";\n          }\n        }\n      ],\n      currentItemPage: 1,\n      currentItemListPage: 1,\n      locatorMap: null,\n      tabIndex: 0,\n      tabsChanged: false\n    };\n  },\n  asyncComputed: {\n    collections: {\n      default: [],\n      lazy: true,\n      async get() {\n        const externalCollections = this.links.find(x => x.rel === \"data\");\n        if (externalCollections === undefined) {\n          return [];\n        }\n\n        try {\n          const rsp = await fetchUri(externalCollections.href);\n          if (!rsp.ok) {\n            console.warn(await rsp.text());\n            return [];\n          }\n\n          const data = await rsp.json();\n          if (!data || !Array.isArray(data.collections)) {\n            console.warn(await rsp.text());\n            return [];\n          }\n\n          let collections = data.collections\n            .map(collection => {\n              // strip /collection from the target path\n              let p = this.path.replace(/^\\/collection/, \"\");\n              if (!p.endsWith(\"/\")) {\n                p += \"/\";\n              }\n\n              // Try to get the location of the collection\n              let href = externalCollections.href + '/collections/' + collection.id;\n              if (Array.isArray(collection.links)) {\n                let selfLink = collection.links.find(l => l.rel == 'self');\n                if (selfLink && selfLink.href) {\n                  href = selfLink.href;\n                }\n              }\n\n              const resolved = this.resolve(href, this.url);\n              const slug = this.slugify(resolved);\n              const to = [p, slug].join(\"\");\n\n              return Object.assign(collection, {\n                path: href,\n                to,\n                title: collection.title || collection.id || href,\n                url: resolved\n              });\n            });\n\n            return collections;\n        } catch (err) {\n          console.warn(err);\n\n          return [];\n        }\n      }\n    },\n    externalItems: {\n      default: [],\n      lazy: true,\n      async get() {\n        const externalItemsLink = this.links.find(x => x.rel === \"items\");\n\n        if (externalItemsLink === undefined) {\n          return [];\n        }\n\n        try {\n          let sep = externalItemsLink.href.includes('?') ? '&' : '?';\n          const rsp = await fetchUri(\n            `${externalItemsLink.href}${sep}page=${this.currentItemPage}`\n          );\n\n          if (!rsp.ok) {\n            console.warn(await rsp.text());\n            return [];\n          }\n\n          const items = await rsp.json();\n\n          if (items.context != null) {\n            this.externalItemCount = items.context.matched;\n            this.externalItemsPerPage = items.context.limit;\n            this.externalItemPaging = true;\n          } else {\n            this.externalItemCount = items.features.length;\n          }\n\n          // strip /collection from the target path\n          let p = this.path.replace(/^\\/collection/, \"\");\n\n          let features = items.features.map((item, idx) => ({\n            item,\n            to: `/item${p}/${this.slugify(\n              `${externalItemsLink.href}${sep}page=${this.currentItemPage}#${idx}`\n            )}`,\n            title: item.properties.title || item.id,\n            dateAcquired: item.properties.datetime\n          }));\n\n          return features;\n        } catch (err) {\n          console.warn(err);\n\n          return [];\n        }\n      }\n    }\n  },\n  computed: {\n    ...common.computed,\n    ...mapGetters([\"getEntity\"]),\n    _entity() {\n      let object = this.getEntity(this.url);\n      if (object instanceof Error) {\n        return object;\n      }\n      this.stacVersion = object.stac_version; // Store the original stac_version as it gets replaced by the migration\n      let cloned = JSON.parse(JSON.stringify(object)); // Clone to avoid changing the vuex store, remove once migration is done directly in vuex\n      return Migrate.stac(cloned);\n    },\n    _description() {\n      return this.catalog.description;\n    },\n    _items() {\n      return this.links.filter(x => x.rel === \"item\");\n    },\n    _license() {\n      return (\n        this.catalog.license || (this.rootCatalog && this.rootCatalog.license)\n      );\n    },\n    _title() {\n      return this.catalog.title;\n    },\n    bands() {\n      // ToDo: Merge all bands from assets\n      return Array.isArray(this.summaries['eo:bands']) ? this.summaries['eo:bands'] : [];\n    },\n    catalog() {\n      return this.entity;\n    },\n    collectionCount() {\n      return this.collections.length;\n    },\n    childCount() {\n      return this.children.length;\n    },\n    children() {\n      return this.links\n        .filter(x => x.rel === \"child\")\n        .map(child => {\n          // strip /collection from the target path\n          let p = this.path.replace(/^\\/collection/, \"\");\n\n          if (!p.endsWith(\"/\")) {\n            p += \"/\";\n          }\n\n          const resolved = this.resolve(child.href, this.url);\n          const slug = this.slugify(resolved);\n          const to = [p, slug].join(\"\");\n\n          return {\n            path: child.href,\n            to,\n            // child.id is a workaround for https://earthengine-stac.storage.googleapis.com/catalog/catalog.json\n            title: child.title || child.id || child.href,\n            url: resolved\n          };\n        });\n    },\n    extent() {\n      return (\n        this.catalog.extent ||\n        (this.rootCatalog && this.rootCatalog.extent) ||\n        {}\n      );\n    },\n    hasExternalItems() {\n      return this.links.find(x => x.rel === \"items\") != null;\n    },\n    itemCount() {\n      if (!this.hasExternalItems) {\n        return this.links.filter(x => x.rel === \"item\").length;\n      }\n\n      return this.externalItemCount;\n    },\n    items() {\n      const start = (this.currentItemPage - 1) * this.itemsPerPage;\n      const end = this.currentItemPage * this.itemsPerPage;\n\n      if (!this.hasExternalItems) {\n        return this._items.map((itemLink, idx) => {\n          const itemUrl = this.resolve(itemLink.href, this.url);\n\n          if (idx >= start && idx < end) {\n            // dispatch a fetch if item is within the range of items being displayed\n            this.load(itemUrl);\n          }\n\n          // attempt to load the full item\n          const item = this.getEntity(itemUrl);\n\n          if (item != null) {\n            return {\n              item,\n              to: `/item${this.path}/${this.slugify(itemUrl)}`,\n              title:\n                item.properties.title ||\n                itemLink.title ||\n                item.id ||\n                itemLink.href,\n              dateAcquired: item.properties.datetime\n            };\n          }\n\n          return {\n            to: `/item${this.path}/${this.slugify(itemUrl)}`,\n            title: itemLink.title || itemLink.href,\n            url: itemUrl\n          };\n        });\n      }\n\n      return this.externalItems;\n    },\n    itemsPerPage() {\n      if (this.externalItemPaging) {\n        return this.externalItemsPerPage;\n      }\n\n      return ITEMS_PER_PAGE;\n    },\n    jsonLD() {\n      const dataCatalog = this.providers.reduce(\n        (dc, p) => {\n          let roles = Array.isArray(p.roles) ? p.roles : [];\n\n          return roles.reduce((dc, role) => {\n            switch (role) {\n              case \"licensor\":\n                dc.copyrightHolder = dc.copyrightHolder || [];\n                dc.copyrightHolder.push({\n                  \"@type\": \"Organization\",\n                  description: p.description,\n                  name: p.name,\n                  url: p.url\n                });\n                break;\n\n              case \"producer\":\n                dc.producer = dc.producer || [];\n                dc.producer.push({\n                  \"@type\": \"Organization\",\n                  description: p.description,\n                  name: p.name,\n                  url: p.url\n                });\n                break;\n\n              case \"processor\":\n                dc.contributor = dc.contributor || [];\n                dc.contributor.push({\n                  \"@type\": \"Organization\",\n                  description: p.description,\n                  name: p.name,\n                  url: p.url\n                });\n                break;\n\n              case \"host\":\n                dc.provider = dc.provider || [];\n                dc.provider.push({\n                  \"@type\": \"Organization\",\n                  description: p.description,\n                  name: p.name,\n                  url: p.url\n                });\n                break;\n            }\n\n            return dc;\n            }, dc)\n            },\n        {\n          \"@context\": \"https://schema.org/\",\n          \"@type\": \"DataCatalog\",\n          // required\n          name: this.title,\n          description: this.description,\n          // recommended\n          citation: this.catalog[\"sci:citation\"],\n          identifier: this.catalog[\"sci:doi\"] || this.catalog.id,\n          keywords: this.keywords,\n          license: this.licenseUrl,\n          isBasedOn: this.url,\n          version: this.version,\n          url: this.path,\n          workExample: (this.catalog[\"sci:publications\"] || []).map(p => ({\n            identifier: p.doi,\n            citation: p.citation\n          })),\n          hasPart: this.children.map(({ title: name, to, url }) => ({\n            \"@type\": \"DataCatalog\",\n            name,\n            isBasedOn: url,\n            url: to\n          })),\n          dataset: this.items.map(({ item, title: name, to, url }) => ({\n            identifier: item ? item.id : undefined,\n            name,\n            isBasedOn: url,\n            url: to\n          }))\n        }\n      );\n\n      const parent = this.breadcrumbs[this.breadcrumbs.length - 1];\n\n      if (parent != null) {\n        dataCatalog.isPartOf = {\n          \"@type\": \"DataCatalog\",\n          name: parent.text,\n          isBasedOn: parent.url,\n          url: parent.to\n        };\n      }\n\n      if (this.spatialExtent.length > 0) {\n        dataCatalog.spatialCoverage = {\n          \"@type\": \"Place\",\n          geo: {\n            \"@type\": \"GeoShape\",\n            box: this.spatialExtent[0].join(\" \")\n          }\n        };\n      }\n\n      if (!this.isTemporalExtentUnbounded) {\n        dataCatalog.temporalCoverage = this.temporalExtent[0].map(x => x || \"..\").join(\"/\");\n      }\n\n      return dataCatalog;\n    },\n    spatialExtent() {\n      const { spatial } = this.extent;\n      if (!spatial || typeof spatial !== 'object' || !Array.isArray(spatial.bbox)) {\n          return [];\n      }\n\n      return spatial.bbox.filter(box => Array.isArray(box) && box.length >= 4);\n    },\n    summaries() {\n      return this.catalog.summaries || {};\n    },\n    temporalExtent() {\n      const { temporal } = this.extent;\n      if (!temporal || typeof temporal !== 'object' || !Array.isArray(temporal.interval)) {\n          return [];\n      }\n\n      return temporal.interval.filter(interval => Array.isArray(interval) && interval.length === 2);\n    },\n    isTemporalExtentUnbounded() {\n      if (this.temporalExtent.length > 0) {\n        return this.temporalExtent[0].findIndex(interval => (typeof interval === 'string')) >= 0;\n      }\n      return true;\n    },\n    version() {\n      return this.catalog.version;\n    }\n  },\n  watch: {\n    ...common.watch,\n    currentChildPage(to, from) {\n      if (to !== from) {\n        this.updateState({\n          cp: to\n        });\n      }\n    },\n    currentItemPage(to, from) {\n      if (to !== from) {\n        this.updateState({\n          ip: to\n        });\n      }\n    },\n    collections() {\n      if (!this.tabsChanged && (!this.$route.query.t || this.$route.query.t === \"0\") && this.collections.length > 0) {\n        this.selectTab(0);\n      }\n    },\n    externalItems() {\n      if (!this.tabsChanged && (!this.$route.query.t || this.$route.query.t === \"2\") && this.externalItems.length > 0) {\n        this.selectTab(2);\n      }\n    }\n  },\n  methods: {\n    ...common.methods,\n    ...mapActions([\"load\"]),\n    initialize() {\n      if (this.spatialExtent.length > 0) {\n        this.$nextTick(() => this.initializeLocatorMap());\n      }\n\n      this.syncWithQueryState();\n    },\n    initializeLocatorMap() {\n      if (this.locatorMap != null) {\n        this.locatorMap.remove();\n      }\n\n      if (this.spatialExtent.length === 0) {\n        // no spatial extent; skip\n        return;\n      }\n\n      this.locatorMap = Leaflet.map(\"locator-map\", {\n        attributionControl: false,\n        zoomControl: false,\n        boxZoom: false,\n        doubleClickZoom: false,\n        dragging: false,\n        scrollWheelZoom: false,\n        touchZoom: false\n      });\n\n      Leaflet.tileLayer(\n        \"https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}@2x.png\",\n        {\n          attribution: `Map data <a href=\"https://www.openstreetmap.org/copyright\">&copy; OpenStreetMap contributors</a>, &copy; <a href=\"https://carto.com/attributions\">CARTO</a>`\n        }\n      ).addTo(this.locatorMap);\n      Leaflet.tileLayer(\n        \"https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}@2x.png\",\n        {\n          zIndex: 1000\n        }\n      ).addTo(this.locatorMap);\n\n      let spatialExtent;\n      if (this.spatialExtent.length > 1) {\n        // Remove union bbox in favor of more concrete bboxes\n        spatialExtent = this.spatialExtent.slice(1);\n      }\n      else {\n        spatialExtent = this.spatialExtent;\n      }\n\n      const coordinates = [spatialExtent.map(extent => {\n        const [minX, minY, maxX, maxY] = extent;\n        return [[minX, minY], [minX, maxY], [maxX, maxY], [maxX, minY], [minX, minY]];\n      })];\n\n      const overlayLayer = Leaflet.geoJSON(\n        {\n          type: \"MultiPolygon\",\n          coordinates\n        },\n        {\n          pane: \"tilePane\",\n          style: {\n            weight: 2,\n            color: \"#ffd65d\",\n            opacity: 1,\n            fillOpacity: 0.15\n          }\n        }\n      ).addTo(this.locatorMap);\n\n      this.locatorMap.fitBounds(overlayLayer.getBounds(), {\n        padding: [95, 95]\n      });\n    },\n    selectTab(tabIndex) {\n      if (typeof tabIndex !== 'number') {\n        tabIndex = parseInt(tabIndex, 10);\n        if (isNaN(tabIndex)) {\n          return;\n        }\n      }\n      if (this.tabsChanged && this.tabIndex !== tabIndex) {\n        this.updateState({\n          t: tabIndex\n        });\n      }\n      this.$nextTick(() => {\n        this.tabIndex = tabIndex;\n      });\n    },\n    activateTab() {\n      this.tabsChanged = true;\n    },\n    sortCompare(a, b, key) {\n      if (key === \"link\") {\n        key = \"title\";\n      }\n\n      if (a[key] == null) {\n        return -1;\n      } else if (b[key] == null) {\n        return 1;\n      } else if (typeof a[key] === \"number\" && typeof b[key] === \"number\") {\n        // If both compared fields are native numbers\n        return a[key] < b[key] ? -1 : a[key] > b[key] ? 1 : 0;\n      } else {\n        // Stringify the field data and use String.localeCompare\n        return a[key].toString().localeCompare(b[key].toString(), undefined, {\n          numeric: true\n        });\n      }\n    },\n    syncWithQueryState() {\n      this.selectTab(this.$route.query.t);\n      this.currentChildPage = Number(this.$route.query.cp) || 1;\n      this.currentItemPage = Number(this.$route.query.ip) || 1;\n\n      // If we have external items, the b-table needs to \"stay\" on page 1 as\n      // the items list only contains the number of items we want to show.\n      this.currentItemListPage = this.hasExternalItems ? 1 : this.currentItemPage;\n    }\n  }\n};\n</script>\n\n<style src=\"./base.css\"></style>\n\n<style scoped lang=\"css\">\nh3 {\n  margin-top: 25px;\n  margin-bottom: 25px;\n}\n\nth h3 {\n  margin-top: 0;\n  margin-bottom: 0;\n  font-size: 16px;\n  text-transform: uppercase;\n  color: #555;\n  font-weight: normal;\n}\n\n.table th {\n  border-top: none;\n  border-bottom: 1px solid #dee2e6;\n}\n\ntd.provider {\n  border: none;\n  padding: 0 15px;\n}\n\ntd.provider .description {\n  padding-left: 5px;\n  font-style: italic;\n}\n\n.leaflet-container {\n  background-color: #262626;\n}\n\n#locator-map {\n  height: 200px;\n  width: 100%;\n  margin-bottom: 10px;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Catalog.vue?vue&type=template&id=74c8c351&scoped=true&\"\nimport script from \"./Catalog.vue?vue&type=script&lang=js&\"\nexport * from \"./Catalog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./base.css?vue&type=style&index=0&lang=css&\"\nimport style1 from \"./Catalog.vue?vue&type=style&index=1&id=74c8c351&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"74c8c351\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\n// eslint-disable-next-line es/no-string-prototype-endswith -- safe\nvar $endsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return $endsWith\n      ? $endsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Catalog.vue?vue&type=style&index=1&id=74c8c351&scoped=true&lang=css&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!./base.css?vue&type=style&index=0&lang=css&\"","'use strict';\nvar $ = require('../internals/export');\nvar $findIndex = require('../internals/array-iteration').findIndex;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND_INDEX = 'findIndex';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND_INDEX in []) Array(1)[FIND_INDEX](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.findIndex` method\n// https://tc39.es/ecma262/#sec-array.prototype.findindex\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  findIndex: function findIndex(callbackfn /* , that = undefined */) {\n    return $findIndex(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND_INDEX);\n"],"sourceRoot":""}